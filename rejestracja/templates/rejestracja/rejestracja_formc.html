{% extends 'rejestracja/base.html' %}
{% load static %}
{% block content %}

<div class="container">
<p>Enter names in the fields, then click "Submit" to submit the form:</p>

<form id="frm1" method='POST', action ="/test">
   {% csrf_token %}
  First name: <input type="text" name="fname"><br>
  Last name: <input type="text" name="lname"><br><br>
<input type="submit" value="submit">

</form>
</div>
<script>
var frm = $('form#frm1');

   frm.submit(function (e) {

       e.preventDefault();

       $.ajax({
           type: frm.attr('method'),
           url: frm.attr('action'),
           data: frm.serialize(),
           success: function (data) {
               console.log('Submission was successful.');
               console.log(data);
           },
           error: function (data) {
               console.log('An error occurred.');
               console.log(data);
           },
       });
   });

// $("form#frm1").submit(function() {console.log('print');});
// $.ajax({
//        type: "POST",
//        url: url,
//        data: $("#idForm").serialize(), // serializes the form's elements.
//        success: function(data)
//        {
//            alert(data); // show response from the php script.
//        }
//      });
//
// e.preventDefault(); // avoid to execute the actual submit of the form.
</script>

{% endblock %}
